<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">
  <link rel="shortcut icon" href="images/tab icon.png">

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap4" />

		
		<!-- Bootstrap CSS -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
		<link href="css/tiny-slider.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
		<link href="css/dashboard_style.css" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
		<title>WatchLand</title>
	</head>

	<body>

		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-md navbar-light" arial-label="Furni navigation bar">

			<div class="container">
				<a class="navbar-brand" href="#page1">Watch<span>Land.</span></a>

				<button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				

				<!--New spapp navbar-->
				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
						<li class="nav-item ">
							<a class="nav-link" href="#page1">Home</a>
						</li>
						<li><a class="nav-link" href="#shop">Shop</a></li>
						<li><a class="nav-link" href="#about">About</a></li>
						<li><a class="nav-link" href="#services">Services</a></li>
						<li><a class="nav-link" href="#blog">Blog</a></li>
						<li><a class="nav-link" href="#contact">Contact</a></li>
						<li><a class="nav-link" href="#dashboard" id="dashboard_link">Dashboard</a></li>

					</ul>

					<ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
						<!--User-->
						<li><a class="nav-link" href="#register_login"><svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
							<path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
						</svg></a></li>
						<!--Cart-->
						<li><a class="nav-link" href="#cart"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
							<path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
						</svg></a></li>
					</ul>
				</div>
			</div>				
		</nav>
		<!-- End Header/Navigation -->


		<!--Spapp page structure-->
		<section id="pageContent">
			<main id="spapp" role="main">
				<section id="page1" data-load="front.html">
					<!--Contents of index-->
				</section>
				<section id="shop" data-load="shop.html">
					<!--Contents of Shop-->
				</section>
				<section id="about" data-load="about.html">
					<!--Contents of About-->
				</section>
				<section id="services" data-load="services.html">
					<!--Contents of Services-->
				</section>
				<section id="blog" data-load="blog.html">
					<!--Contents of Blog-->
				</section>
				<section id="contact" data-load="contact.html">
					<!--Contents of Contact-->
				</section>
				<section id="cart" data-load="cart.html">
					<!--Contents of Cart-->
				</section>
				<section id="product" data-load="product.html">
					<!--Contents of Product-->
				</section>
				<section id="register_login" data-load="register_login.html">
					<!--Contents of Product-->
				</section>
				<section id="checkout" data-load="checkout.html">
					<!--Contents of Checkout-->
				</section>
				<section id="thankyou" data-load="thankyou.html">
					<!--Contents of Thank You-->
				</section>
				<section id="dashboard" data-load="dashboard.html">
					<!--Contents of Dashboard-->
				</section>
				<section id="profile" data-load="profile.html">
					<!--Contents of Profile-->
				</section>
			</main>		
		</section>
		<!--End of Spapp page structure-->
		
				

		<!-- Start Footer Section -->
		<footer class="footer-section">
			<div class="container relative">

				<div class="footer-img">
					<img src="images/pocket_watch.png" alt="Image" class="img-fluid">
				</div>

				<div class="row">
					<div class="col-lg-8">
						<div class="subscription-form">
							<h3 class="d-flex align-items-center"><span class="me-1"><img src="images/envelope-outline.svg" alt="Image" class="img-fluid"></span><span>Subscribe to Newsletter</span></h3>

							<form action="#" class="row g-3">
								<div class="col-auto">
									<input type="text" class="form-control" placeholder="Enter your name">
								</div>
								<div class="col-auto">
									<input type="email" class="form-control" placeholder="Enter your email">
								</div>
								<div class="col-auto">
									<button class="btn btn-primary">
										<span class="fa fa-paper-plane"></span>
									</button>
								</div>
							</form>

						</div>
					</div>
				</div>

				<div class="row g-5 mb-5">
					<div class="col-lg-4">
						<div class="mb-4 footer-logo-wrap"><a href="#" class="footer-logo">WatchLand<span>.</span></a></div>
						<p class="mb-4">A watch is more than just a tool to tell timeâ€”it's a statement of your style, personality, and aspirations. Whether you're looking for a classic design or a modern masterpiece, 
							 we're here to guide you in finding the perfect watch that suits your lifestyle.</p>

						<ul class="list-unstyled custom-social">
							<li><a href="#"><span class="fa fa-brands fa-facebook-f"></span></a></li>							
							<li><a href="#"><span class="fa fa-brands fa-instagram"></span></a></li>
							<li><a href="#"><span class="fa fa-brands fa-youtube"></span></a></li>
							<li><a href="#"><span class="fa fa-brands fa-twitter"></span></a></li>
						</ul>
					</div>

					<div class="col-lg-8">
						<div class="row links-wrap">
							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#about">About us</a></li>
									<li><a href="#services">Services</a></li>
									<li><a href="#blog">Blog</a></li>
								</ul>
							</div>

							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#contact">Contact us</a></li>
									<li><a href="#">Knowledge base</a></li>
									<li><a href="#">Live chat</a></li>
								</ul>
							</div>

							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="#front">Jobs</a></li>
									<li><a href="#front">Our team</a></li>
									<li><a href="#front">Support</a></li>
								</ul>
							</div>
					
						</div>
					</div>

				</div>

				<div class="border-top copyright">
					<div class="row pt-4">
						<div class="col-lg-6">
							<p class="mb-2 text-center text-lg-start">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. </p>
            </p>
						</div>

						<div class="col-lg-6 text-center text-lg-end">
							<ul class="list-unstyled d-inline-flex ms-auto">
								<li class="me-4"><a href="#">Terms &amp; Conditions</a></li>
								<li><a href="#">Privacy Policy</a></li>
							</ul>
						</div>

					</div>
				</div>

			</div>
		</footer>
		<!-- End Footer Section -->	

		<!-- First load jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

		<!--Spapp and other core js-->
		<script src="js/jquery.spapp.min.js"></script>
		<script src="js/bootstrap.bundle.min.js"></script>
		<script src="js/tiny-slider.js"></script>
		
		<!-- Additional libraries -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.js"></script>

		<!-- Configure toastr -->
		<script>
			toastr.options = {
				"closeButton": true,
				"progressBar": true,
				"positionClass": "toast-top-right",
				"timeOut": "3000",
				"showMethod": "fadeIn",
				"hideMethod": "fadeOut"
			};
		</script>

		<!-- Load our utility files in correct order -->
		<script src="utils/constants.js"></script>
		<script src="utils/utils.js"></script>
		<script src="utils/rest-client.js"></script>
		<script src="services/user-service.js"></script>
		<script src="services/product-service.js"></script>
		<script src="services/cart-service.js"></script>
		<script src="services/order-service.js"></script>

		<!-- Initialize spapp -->
		<script>
			$(document).ready(function() {
				var app = $.spapp({
					defaultView: "#page1",
					templateDir: "./views/"
				});
				
				// Add error handling for view loading
				$(document).on('spapp.error', function(e, data) {
					console.error('Error loading view:', data);
				});

				// Prevent double initialization
				if (!window.spappInitialized) {
					app.run();
					window.spappInitialized = true;
				}
			});
		</script>

		<!-- Load custom scripts last -->
		<script src="js/custom.js"></script>
		<script src="js/auth.js"></script>

		<!-- Initialize UserService -->
		<script>
			$(document).ready(function() {
				UserService.init();
				
				// Auto-refresh cart when cart navigation is clicked
				$('a[href="#cart"]').on('click', function() {
					// Small delay to ensure the cart page loads first
					setTimeout(function() {
						// Check if we're actually on the cart page and CartService is available
						if (window.location.hash === '#cart' && typeof CartService !== 'undefined') {
							// Trigger cart reload by calling the cart page's loadCart function
							if (typeof loadCart === 'function') {
								loadCart();
							} else {
								// Fallback: manually trigger cart loading
								CartService.getCart(
									function(cart) {
										console.log('Cart refreshed from navigation');
									},
									function(error) {
										console.error('Error refreshing cart from navigation:', error);
									}
								);
							}
						}
					}, 200);
				});
			});
		</script>
	</body>

</html>
